export const meta = {
  title: 'Using Playwright on AWS Lambda or Vercel Now',
  description: "In this article we're discovering how to setup and configure Playwright that you can use it on the edge.",
  author: "Max Schmitt",
  date: "2020-06-13",
  tags: ["aws", "tutorial", "configuration"],
  hidden: true
}

Interesting things:
- Vercel Now (formerly ZEIT Now)
- AWS Lambda
- Full browser support


#### Developing background

```
curl -sL https://rpm.nodesource.com/setup_14.x | bash -
yum install -y nodejs

yum install -y nano
npm init -y
npm install -D playwright
```

```js
const playwright = require("playwright-chromium");

(async () => {
  for (const browserType of ['chromium']) {
    /** @type {import('playwright').Browser} */
    const browser = await playwright[browserType].launch(browserType === "chromium" ? { args: ["--no-sandbox"] } : {});
    const context = await browser.newContext();
    const page = await context.newPage();
    await page.goto('http://whatsmyuseragent.org/');
    await page.screenshot({ path: `example-${browserType}.png` });
    await browser.close();
  }
})();
```


```bash
cat << EOF > /etc/yum.repos.d/google-chrome.repo
[google-chrome]
name=google-chrome
baseurl=http://dl.google.com/linux/chrome/rpm/stable/x86_64
enabled=1
gpgcheck=1
gpgkey=https://dl.google.com/linux/linux_signing_key.pub
EOF

yum install google-chrome-unstable
export CHROME_PATH=$(which google-chrome)
```

{
  executablePath: "/usr/bin/google-chrome"
}

- using pw on aws lambda https://github.com/JupiterOne/playwright-aws-lambda
- using pw on next